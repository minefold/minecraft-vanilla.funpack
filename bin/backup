#!/usr/bin/env ruby

# bin/backup <world-dir>
# outputs files to include in backup

require 'find'

WORLD_DIR = ARGV.shift
raise "world dir does not exist: #{WORLD_DIR}" unless File.exists? WORLD_DIR

level_paths = Dir.chdir WORLD_DIR do
  level_paths = []
  Find.find('.') do |path|
    if path =~ /\/level\.dat$/
      level_paths << File.dirname(path)
    end
  end
  level_paths
end

puts "#{level_paths.join(' ')} ./ops.txt ./server.properties ./white-list.txt ./banned-players.txt"
